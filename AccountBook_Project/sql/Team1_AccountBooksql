DROP TABLE MoneyBook cascade constraints ;
DROP TABLE Routine cascade constraints;
DROP TABLE Category cascade constraints;
DROP TABLE Goal cascade constraints;
DROP TABLE Token cascade constraints;
DROP TABLE Category_MENT cascade constraints;

DELETE FROM Routine;
DELETE FROM token;
DELETE FROM CATEGORY_MENT;
DELETE FROM MONEYBOOK;
DELETE FROM CATEGORY;
COMMIT;

DROP SEQUENCE MONEY_SEQ;
DROP SEQUENCE ROUTINE_SEQ;
DROP SEQUENCE CATEGORY_SEQ;
DROP SEQUENCE GOAL_SEQ;
DROP SEQUENCE TOKEN_SEQ;

-- MoneyBook 시퀀스
create sequence MONEY_SEQ
increment by 1
start with 1
maxvalue 10000000000000
nocache
;

-- Routine 시퀀스
create sequence ROUTINE_SEQ
increment by 1
start with 1
maxvalue 10000000000000
nocache
;

-- Category 시퀀스
create sequence CATEGORY_SEQ
increment by 1
start with 1
maxvalue 10000000000000
nocache
;

-- GOAL 시퀀스
create sequence GOAL_SEQ
increment by 1
start with 1
maxvalue 10000000000000
nocache
;

-- TOKEN 시퀀스
create sequence TOKEN_SEQ
increment by 1
start with 1
maxvalue 10000000000000
nocache
;

-- 가계부 테이블
CREATE TABLE MoneyBook (
    MONEY_SEQ           NUMBER(11)          PRIMARY KEY     NOT NULL,
    MONEY_DATE          DATE                DEFAULT SYSDATE,
    CATEGORY_SEQ        NUMBER(11)          NOT NULL,
    MONEY_INOUT         VARCHAR2(2CHAR)     NOT NULL,
    MONEY_WON           NUMBER(11)          NOT NULL
);

-- 루틴 테이블
CREATE TABLE Routine (
    ROUTINE_SEQ         NUMBER(11)          PRIMARY KEY     NOT NULL,
    ROUTINE_DIV         VARCHAR2(2CHAR)     NOT NULL,
    ROUTINE_CONTENTS    VARCHAR2(30CHAR)    NOT NULL,
    ROUTINE_TOKEN       NUMBER(11)          NOT NULL
);

-- 카테고리 테이블
CREATE TABLE Category (
    CATEGORY_SEQ        NUMBER(11)          PRIMARY KEY     NOT NULL,
    CATEGORY_NAME       VARCHAR2(11char)    NOT NULL
);

-- 카테고리 멘트 테이블
CREATE TABLE Category_MENT (
    CATEGORY_SEQ        NUMBER(11)          NOT NULL,
    CATEGORY_MENT       VARCHAR2(33char)        NOT NULL
);

-- 목표 테이블
CREATE TABLE Goal (
    GOAL_SEQ            NUMBER(11)          PRIMARY KEY     NOT NULL,
    GOAL_CONTENTS       VARCHAR2(30char)    NOT NULL,
    GOAL_TOKEN          NUMBER(11)          NOT NULL
);

-- 토큰 테이블
CREATE TABLE Token (
    TOKEN_SEQ           NUMBER(11)          PRIMARY KEY     NOT NULL,
    TOKEN_AMOUNT        NUMBER(5)           NOT NULL,
    TOKEN_HISTORY       VARCHAR2(2CHAR)     NOT NULL,
    ROUTINE_SEQ         NUMBER(11)         ,
    GOAL_SEQ            NUMBER(11)          
);

ALTER TABLE MoneyBook ADD FOREIGN KEY (CATEGORY_SEQ) REFERENCES Category(CATEGORY_SEQ);
ALTER TABLE Token ADD FOREIGN KEY (ROUTINE_SEQ) REFERENCES Routine(ROUTINE_SEQ);
ALTER TABLE Token ADD FOREIGN KEY (GOAL_SEQ) REFERENCES Goal(GOAL_SEQ);
ALTER TABLE Category_MENT ADD FOREIGN KEY (CATEGORY_SEQ) REFERENCES Category(CATEGORY_SEQ);

--카테고리 테이블 내용
INSERT INTO MONEYBOOK.CATEGORY (CATEGORY_SEQ,CATEGORY_NAME) VALUES (1,'식비');
INSERT INTO MONEYBOOK.CATEGORY (CATEGORY_SEQ,CATEGORY_NAME) VALUES (2,'카페_간식');
INSERT INTO MONEYBOOK.CATEGORY (CATEGORY_SEQ,CATEGORY_NAME) VALUES (3,'편의점_마트_잡화');
INSERT INTO MONEYBOOK.CATEGORY (CATEGORY_SEQ,CATEGORY_NAME) VALUES (4,'술_유흥');
INSERT INTO MONEYBOOK.CATEGORY (CATEGORY_SEQ,CATEGORY_NAME) VALUES (5,'쇼핑');
INSERT INTO MONEYBOOK.CATEGORY (CATEGORY_SEQ,CATEGORY_NAME) VALUES (6,'취미_여가');
INSERT INTO MONEYBOOK.CATEGORY (CATEGORY_SEQ,CATEGORY_NAME) VALUES (7,'의료_건강_피트니스');
INSERT INTO MONEYBOOK.CATEGORY (CATEGORY_SEQ,CATEGORY_NAME) VALUES (8,'주거_통신');
INSERT INTO MONEYBOOK.CATEGORY (CATEGORY_SEQ,CATEGORY_NAME) VALUES (9,'보험_세금_기타금융');
INSERT INTO MONEYBOOK.CATEGORY (CATEGORY_SEQ,CATEGORY_NAME) VALUES (10,'미용');
INSERT INTO MONEYBOOK.CATEGORY (CATEGORY_SEQ,CATEGORY_NAME) VALUES (11,'교통_자동차');
INSERT INTO MONEYBOOK.CATEGORY (CATEGORY_SEQ,CATEGORY_NAME) VALUES (12,'여행_숙박');
INSERT INTO MONEYBOOK.CATEGORY (CATEGORY_SEQ,CATEGORY_NAME) VALUES (13,'교육');
INSERT INTO MONEYBOOK.CATEGORY (CATEGORY_SEQ,CATEGORY_NAME) VALUES (14,'생활');
INSERT INTO MONEYBOOK.CATEGORY (CATEGORY_SEQ,CATEGORY_NAME) VALUES (15,'기부_후원');
INSERT INTO MONEYBOOK.CATEGORY (CATEGORY_SEQ,CATEGORY_NAME) VALUES (16,'후불결제대금');
INSERT INTO MONEYBOOK.CATEGORY (CATEGORY_SEQ,CATEGORY_NAME) VALUES (17,'ATM출금');
INSERT INTO MONEYBOOK.CATEGORY (CATEGORY_SEQ,CATEGORY_NAME) VALUES (18,'급여');
INSERT INTO MONEYBOOK.CATEGORY (CATEGORY_SEQ,CATEGORY_NAME) VALUES (19,'저축_투자');
INSERT INTO MONEYBOOK.CATEGORY (CATEGORY_SEQ,CATEGORY_NAME) VALUES (20,'기타');

-- 카테고리 멘트 내용
-- 1.식비
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (1,'최근에 큰 소비가 있었나요?');
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (1,'외식을 줄여보는건 어떨까요?');
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (1,'가끔은 도시락도 좋을 거 같아요!');
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (1,'역시 맛집매니아!');
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (1,'계획적으로 사용하고 계신가요?');
-- 2.카페_간식
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (2,'최근에 큰 소비가 있었나요?');
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (2,'카페인 뱀파이어');
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (2,'커피도 좋지만 조금만 더 아껴볼까요?');
-- 3.편의점_마트_잡화
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (3,'최근에 큰 소비가 있었나요?');
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (3,'생활이 편해지셨나요?');
-- 4.술_유흥
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (4,'최근에 큰 소비가 있었나요?');
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (4,'마시고 죽어 보자구.');
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (4,'술에 많이 쓰셨네요. 건강 조심하세요.');
--  5.쇼핑 
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (5,'최근에 큰 소비가 있었나요?'); 
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (5,'쇼핑에 많이 쓰셨네요. 요새 예쁜게 왜이리 많은가 몰라.');
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (5,'#결제하고나니돈이없어졌다 #얼마안샀는데');
-- 6.취미_여가
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (6,'최근에 큰 소비가 있었나요?');
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (6,'#난_오늘도_책을_읽는다.');
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (6,'#내취미에_내가_돈_쓰겠다는데!');
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (6,'#오늘_즐거웠으면_이정도야_괜찮지!');
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (6,'스트레스는 많이 풀리셨나요?');
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (6,'즐거우셨으면 아깝지 않아요.');
-- 7.의료_건강_피트니스
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (7,'최근에 큰 소비가 있었나요?');
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (7,'아플 땐 쉬어줘야 해요.');
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (7,'간단한 스트레칭은 필수!');
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (7,'건강 좋아지셨나요?');
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (7,'오래오래 건강하게 사세요.');
-- 8.주거_통신
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (8,'최근에 큰 소비가 있었나요?');
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (8,'문명인');
-- 9.보험_세금_기타금융
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (9,'최근에 큰 소비가 있었나요?');
-- 10.미용 
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (10,'최근에 큰 소비가 있었나요?');
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (10,'미용에 쓴 돈은 자기개발이니 괜찮아요.');
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (10,'미용으로 더 아름다워졌네요.');
-- 11.교통_자동차
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (11,'최근에 큰 소비가 있었나요?');
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (11,'교통비가 많이 나왔네요.');
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (11,'비용이 만만치 않네요.');
-- 12.여행_숙박
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (12,'최근에 큰 소비가 있었나요?');
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (12,'여행은 즐거우셨나요?');
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (12,'여행으로 추억은 많이 쌓으셨나요?');
-- 13.교육
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (13,'최근에 큰 소비가 있었나요?');
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (13,'교육으로 지식을 쌓아가는 모습 멋지네요!');
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (13,'교육에 돈을 씀으로 어제보더 더 나은 삶이 될거에요!');
-- 14.생활
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (14,'최근에 큰 소비가 있었나요?');
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (14,'물가가 많이 올랐나요?');
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (14,'생활하는데 많은 비용이 필요하네요.');
-- 15.기부_후원 
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (15,'따뜻한 온기를 나눠주셔서 감사합니다!');
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (15,'실천해주셔서 감사합니다!');
-- 16.후불결제대금
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (16,'최근에 큰 소비가 있었나요?');
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (16,'잠시 지나가겠습니다.');
-- 17.ATM출금 
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (17,'최근에 큰 소비가 있었나요?');
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (17,'돈을 출금하셨네요! 알찬 곳에 사용하셨겠죠?');
-- 18.급여
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (18,'월급날이시군요? 축하드려요!');
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (18,'#월급들어왔다!');
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (18,'#월급 #행복');
-- 19.저축_투자
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (19,'최근에 큰 소비가 있었나요?');
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (19,'저축_투자가 인생에 도움이 됩니다.');
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (19,'#큰돈을 벌거야!');
-- 20.기타 
INSERT INTO CATEGORY_MENT (CATEGORY_SEQ,CATEGORY_MENT) VALUES (20,'최근에 큰 소비가 있었나요?');


-- 가계부 임시 내용
INSERT INTO moneybook VALUES (MONEY_SEQ.nextval, sysdate, 6, '수입', 50000);
INSERT INTO moneybook VALUES (MONEY_SEQ.nextval, sysdate, 1, '지출', 18000);
INSERT INTO moneybook VALUES (MONEY_SEQ.nextval, TO_DATE('2021-12-15','YYYY-MM-DD'),3,'지출',15600);
INSERT INTO moneybook VALUES (MONEY_SEQ.nextval, TO_DATE('2022-12-15','YYYY-MM-DD'),3,'지출',15600);
INSERT INTO moneybook VALUES (MONEY_SEQ.nextval, TO_DATE('2022-12-15','YYYY-MM-DD'),14,'수입',10000);
INSERT INTO moneybook VALUES (MONEY_SEQ.nextval, TO_DATE('2022-12-15','YYYY-MM-DD'),18,'수입',2500000);
INSERT INTO moneybook VALUES (MONEY_SEQ.nextval, TO_DATE('2022-12-15','YYYY-MM-DD'),8,'지출',500000);
INSERT INTO moneybook VALUES (MONEY_SEQ.nextval, TO_DATE('2022-12-15','YYYY-MM-DD'),14,'지출',1800000);
INSERT INTO moneybook VALUES (MONEY_SEQ.nextval, TO_DATE('2022-12-17','YYYY-MM-DD'),3,'지출',15600);
INSERT INTO moneybook VALUES (MONEY_SEQ.nextval, TO_DATE('2022-12-19','YYYY-MM-DD'),7,'지출',100000);
INSERT INTO moneybook VALUES (MONEY_SEQ.nextval, TO_DATE('2023-10-08','YYYY-MM-DD'),14,'수입', 50000);
INSERT INTO moneybook VALUES (MONEY_SEQ.nextval, TO_DATE('2023-10-08','YYYY-MM-DD'),7,'지출', 100000);
INSERT INTO moneybook VALUES (MONEY_SEQ.nextval, TO_DATE('2023-10-15','YYYY-MM-DD'),18,'수입',2800000);
INSERT INTO moneybook VALUES (MONEY_SEQ.nextval, TO_DATE('2023-12-22','YYYY-MM-DD'),7,'수입', 50000);
INSERT INTO moneybook VALUES (MONEY_SEQ.nextval, TO_DATE('2023-12-14','YYYY-MM-DD'),2,'지출',2000);
INSERT INTO moneybook VALUES (MONEY_SEQ.nextval, TO_DATE('2023-12-15','YYYY-MM-DD'),18,'수입',2800000);
INSERT INTO moneybook VALUES (MONEY_SEQ.nextval, TO_DATE('2023-12-15','YYYY-MM-DD'),4,'지출',25000);
INSERT INTO moneybook VALUES (MONEY_SEQ.nextval, TO_DATE('2023-12-15','YYYY-MM-DD'),12,'지출',36000);
INSERT INTO moneybook VALUES (MONEY_SEQ.nextval, TO_DATE('2023-12-21','YYYY-MM-DD'),7,'지출',40000);
INSERT INTO moneybook VALUES (MONEY_SEQ.nextval, TO_DATE('2023-12-16','YYYY-MM-DD'),11,'지출',5000);
INSERT INTO moneybook VALUES (MONEY_SEQ.nextval, TO_DATE('2023-12-14','YYYY-MM-DD'),1,'지출',2000);
INSERT INTO moneybook VALUES (MONEY_SEQ.nextval, TO_DATE('2023-12-15','YYYY-MM-DD'),3,'지출',15600);
INSERT INTO moneybook VALUES (MONEY_SEQ.nextval, TO_DATE('2023-11-06','YYYY-MM-DD'),17,'지출',50000);
INSERT INTO moneybook VALUES (MONEY_SEQ.nextval, TO_DATE('2023-12-23','YYYY-MM-DD'),7,'지출',30000);
INSERT INTO moneybook VALUES (MONEY_SEQ.nextval, TO_DATE('2023-12-11','YYYY-MM-DD'),7,'수입',40000);
INSERT INTO moneybook VALUES (MONEY_SEQ.nextval, TO_DATE('2023-12-10','YYYY-MM-DD'),7,'지출',70000);
INSERT INTO moneybook VALUES (MONEY_SEQ.nextval, TO_DATE('2023-12-25','YYYY-MM-DD'),12,'지출',80000);
INSERT INTO moneybook VALUES (MONEY_SEQ.nextval, TO_DATE('2023-12-14','YYYY-MM-DD'),20,'수입',20000);
INSERT INTO moneybook VALUES (MONEY_SEQ.nextval, TO_DATE('2023-12-15','YYYY-MM-DD'),20,'수입',15000);
INSERT INTO moneybook VALUES (MONEY_SEQ.nextval, TO_DATE('2022-12-15','YYYY-MM-DD'),3,'지출',15600);

-- 소목표 임시 내용
INSERT INTO goal VALUES (GOAL_SEQ.NEXTVAL, '다음달 식비 이번달보다 10만원 증가', 5);
INSERT INTO goal VALUES (GOAL_SEQ.NEXTVAL, '치킨 시켜먹기', 1);
INSERT INTO goal VALUES (GOAL_SEQ.NEXTVAL, '피자 시켜먹기', 1);
INSERT INTO goal VALUES (GOAL_SEQ.NEXTVAL, '외식 횟수 1회 증가', 3);
INSERT INTO goal VALUES (GOAL_SEQ.NEXTVAL, '술자리 횟수 1회 증가', 3);
INSERT INTO goal VALUES (GOAL_SEQ.NEXTVAL, '떡볶이 시켜먹기', 1);
INSERT INTO goal VALUES (GOAL_SEQ.NEXTVAL, '커피 3회 증가', 1);
INSERT INTO goal VALUES (GOAL_SEQ.NEXTVAL, '외식 횟수 2회 증가', 5);

-- 루틴 임시 내용
Insert into MONEYBOOK.ROUTINE (ROUTINE_SEQ,ROUTINE_DIV,ROUTINE_CONTENTS,ROUTINE_TOKEN) values (ROUTINE_SEQ.nextval,'일일','커피 1회 이하',1);
Insert into MONEYBOOK.ROUTINE (ROUTINE_SEQ,ROUTINE_DIV,ROUTINE_CONTENTS,ROUTINE_TOKEN) values (ROUTINE_SEQ.nextval,'일일','외식 안하기',1);
Insert into MONEYBOOK.ROUTINE (ROUTINE_SEQ,ROUTINE_DIV,ROUTINE_CONTENTS,ROUTINE_TOKEN) values (ROUTINE_SEQ.nextval,'주간','식비 5만원 이하',2);
Insert into MONEYBOOK.ROUTINE (ROUTINE_SEQ,ROUTINE_DIV,ROUTINE_CONTENTS,ROUTINE_TOKEN) values (ROUTINE_SEQ.nextval,'주간','카페 3회 이하 이용',2);


select * from token;
INSERT INTO TOKEN(TOKEN_SEQ, TOKEN_AMOUNT, TOKEN_HISTORY, ROUTINE_SEQ) VALUES (TOKEN_SEQ.NEXTVAL, 1, '루틴', 2);

commit;

ALTER SEQUENCE goal_seq INCREMENT BY -3;
ALTER SEQUENCE goal_seq INCREMENT BY 1;
SELECT goal_seq.nextVAL FROM DUAL;
SELECT goal_seq.currVAL FROM DUAL;

INSERT INTO TOKEN(TOKEN_SEQ, TOKEN_AMOUNT, TOKEN_HISTORY, ROUTINE_SEQ) VALUES (TOKEN_SEQ.NEXTVAL, 1, '루틴', 2);
